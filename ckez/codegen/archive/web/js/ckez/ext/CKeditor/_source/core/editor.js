(function(){var k=0;var j=function(){var m="editor"+(++k);return(CKEDITOR.instances&&CKEDITOR.instances[m])?j():m};var e={};var i=function(o){var m=o.config.customConfig;if(!m){return false}m=CKEDITOR.getUrl(m);var n=e[m]||(e[m]={});if(n.fn){n.fn.call(o,o.config);if(CKEDITOR.getUrl(o.config.customConfig)==m||!i(o)){o.fireOnce("customConfigLoaded")}}else{CKEDITOR.scriptLoader.load(m,function(){if(CKEDITOR.editorConfig){n.fn=CKEDITOR.editorConfig}else{n.fn=function(){}}i(o)})}return true};var a=function(m,n){m.on("customConfigLoaded",function(){if(n){if(n.on){for(var o in n.on){m.on(o,n.on[o])}}CKEDITOR.tools.extend(m.config,n,true);delete m.config.on}l(m)});if(n&&n.customConfig!=undefined){m.config.customConfig=n.customConfig}if(!i(m)){m.fireOnce("customConfigLoaded")}};var l=function(n){var p=n.config.skin.split(","),m=p[0],o=CKEDITOR.getUrl(p[1]||("_source/skins/"+m+"/"));n.skinName=m;n.skinPath=o;n.skinClass="cke_skin_"+m;n.tabIndex=n.config.tabIndex||n.element.getAttribute("tabindex")||0;n.readOnly=!!(n.config.readOnly||n.element.getAttribute("disabled"));n.fireOnce("configLoaded");b(n)};var d=function(m){CKEDITOR.lang.load(m.config.language,m.config.defaultLanguage,function(o,p){m.langCode=o;m.lang=CKEDITOR.tools.prototypedCopy(p);if(CKEDITOR.env.gecko&&CKEDITOR.env.version<10900&&m.lang.dir=="rtl"){m.lang.dir="ltr"}var n=m.config;n.contentsLangDirection=="ui"&&(n.contentsLangDirection=m.lang.dir);f(m)})};var f=function(p){var o=p.config,m=o.plugins,n=o.extraPlugins,r=o.removePlugins;if(n){var q=new RegExp("(?:^|,)(?:"+n.replace(/\s*,\s*/g,"|")+")(?=,|$)","g");m=m.replace(q,"");m+=","+n}if(r){q=new RegExp("(?:^|,)(?:"+r.replace(/\s*,\s*/g,"|")+")(?=,|$)","g");m=m.replace(q,"")}CKEDITOR.env.air&&(m+=",adobeair");CKEDITOR.plugins.load(m.split(","),function(w){var t=[];var A=[];var s=[];p.plugins=w;for(var z in w){var x=w[z],u=x.lang,y=CKEDITOR.plugins.getPath(z),v=null;x.path=y;if(u){v=(CKEDITOR.tools.indexOf(u,p.langCode)>=0?p.langCode:u[0]);if(!x.langEntries||!x.langEntries[v]){s.push(CKEDITOR.getUrl(y+"lang/"+v+".js"))}else{CKEDITOR.tools.extend(p.lang,x.langEntries[v]);v=null}}A.push(v);t.push(x)}CKEDITOR.scriptLoader.load(s,function(){var C=["beforeInit","init","afterInit"];for(var B=0;B<C.length;B++){for(var D=0;D<t.length;D++){var E=t[D];if(B===0&&A[D]&&E.lang){CKEDITOR.tools.extend(p.lang,E.langEntries[A[D]])}if(E[C[B]]){E[C[B]](p)}}}p.fire("pluginsLoaded");c(p)})})};var b=function(m){CKEDITOR.skins.load(m,"editor",function(){d(m)})};var c=function(m){var n=m.config.theme;CKEDITOR.themes.load(n,function(){var o=m.theme=CKEDITOR.themes.get(n);o.path=CKEDITOR.themes.getPath(n);o.build(m);if(m.config.autoUpdateElement){g(m)}})};var g=function(n){var m=n.element;if(n.elementMode==CKEDITOR.ELEMENT_MODE_REPLACE&&m.is("textarea")){var o=m.$.form&&new CKEDITOR.dom.element(m.$.form);if(o){function p(){n.updateElement()}o.on("submit",p);if(!o.$.submit.nodeName&&!o.$.submit.length){o.$.submit=CKEDITOR.tools.override(o.$.submit,function(q){return function(){n.updateElement();if(q.apply){q.apply(this,arguments)}else{q()}}})}n.on("destroy",function(){o.removeListener("submit",p)})}}};function h(){var p,m=this._.commands,o=this.mode;if(!o){return}for(var n in m){p=m[n];p[p.startDisabled?"disable":this.readOnly&&!p.readOnly?"disable":p.modes[o]?"enable":"disable"]()}}CKEDITOR.editor.prototype._init=function(){var m=CKEDITOR.dom.element.get(this._.element),n=this._.instanceConfig;delete this._.element;delete this._.instanceConfig;this._.commands={};this._.styles=[];this.element=m;this.name=(m&&(this.elementMode==CKEDITOR.ELEMENT_MODE_REPLACE)&&(m.getId()||m.getNameAtt()))||j();if(this.name in CKEDITOR.instances){throw'[CKEDITOR.editor] The instance "'+this.name+'" already exists.'}this.id=CKEDITOR.tools.getNextId();this.config=CKEDITOR.tools.prototypedCopy(CKEDITOR.config);this.ui=new CKEDITOR.ui(this);this.focusManager=new CKEDITOR.focusManager(this);CKEDITOR.fire("instanceCreated",null,this);this.on("mode",h,null,null,1);this.on("readOnly",h,null,null,1);a(this,n)}})();CKEDITOR.tools.extend(CKEDITOR.editor.prototype,{addCommand:function(a,b){return this._.commands[a]=new CKEDITOR.command(this,b)},addCss:function(a){this._.styles.push(a)},destroy:function(a){if(!a){this.updateElement()}this.fire("destroy");this.theme&&this.theme.destroy(this);CKEDITOR.remove(this);CKEDITOR.fire("instanceDestroyed",null,this)},execCommand:function(a,c){var d=this.getCommand(a);var b={name:a,commandData:c,command:d};if(d&&d.state!=CKEDITOR.TRISTATE_DISABLED){if(this.fire("beforeCommandExec",b)!==true){b.returnValue=d.exec(b.commandData);if(!d.async&&this.fire("afterCommandExec",b)!==true){return b.returnValue}}}return false},getCommand:function(a){return this._.commands[a]},getData:function(){this.fire("beforeGetData");var b=this._.data;if(typeof b!="string"){var a=this.element;if(a&&this.elementMode==CKEDITOR.ELEMENT_MODE_REPLACE){b=a.is("textarea")?a.getValue():a.getHtml()}else{b=""}}b={dataValue:b};this.fire("getData",b);return b.dataValue},getSnapshot:function(){var b=this.fire("getSnapshot");if(typeof b!="string"){var a=this.element;if(a&&this.elementMode==CKEDITOR.ELEMENT_MODE_REPLACE){b=a.is("textarea")?a.getValue():a.getHtml()}}return b},loadSnapshot:function(a){this.fire("loadSnapshot",a)},setData:function(c,d,a){if(d){this.on("dataReady",function(e){e.removeListener();d.call(e.editor)})}var b={dataValue:c};!a&&this.fire("setData",b);this._.data=b.dataValue;!a&&this.fire("afterSetData",b)},setReadOnly:function(a){if(this.readOnly!=!a){this.readOnly=!a;this.fire("readOnly")}},insertHtml:function(a){this.fire("insertHtml",a)},insertText:function(a){this.fire("insertText",a)},insertElement:function(a){this.fire("insertElement",a)},checkDirty:function(){return(this.mayBeDirty&&this._.previousValue!==this.getSnapshot())},resetDirty:function(){if(this.mayBeDirty){this._.previousValue=this.getSnapshot()}},updateElement:function(){var a=this.element;if(a&&this.elementMode==CKEDITOR.ELEMENT_MODE_REPLACE){var b=this.getData();if(this.config.htmlEncodeOutput){b=CKEDITOR.tools.htmlEncode(b)}if(a.is("textarea")){a.setValue(b)}else{a.setHtml(b)}}}});CKEDITOR.on("loaded",function(){var b=CKEDITOR.editor._pending;if(b){delete CKEDITOR.editor._pending;for(var a=0;a<b.length;a++){b[a]._init()}}});